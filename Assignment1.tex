\documentclass{report}
% Change "article" to "report" to get rid of page number on title page
\usepackage{amsmath,amsfonts,amsthm,amssymb}
\usepackage{setspace}
\usepackage{Tabbing}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{extramarks}
\usepackage{chngpage}
\usepackage{soul,color}
\usepackage{listings}
\usepackage{enumerate}
\usepackage{graphicx,float,wrapfig}
\usepackage{pifont}
\usepackage{graphicx}
\usepackage[english]{babel}
\usepackage{tikz}
% In case you need to adjust margins:
\topmargin=-0.45in      %
\evensidemargin=0in     %
\oddsidemargin=0in      %
\textwidth=6.5in        %
\textheight=9.0in       %
\headsep=0.25in         %

\title{Assignment 1 - Comp 632 - Machine Learning}

% Homework Specific Information
\newcommand{\hmwkTitle}{Assignment 1}                     % Adjust this
\newcommand{\hmwkDueDate}{Tuesday, January 27 2015}                           % Adjust this
\newcommand{\hmwkClass}{COMP 632}


\newcommand{\hmwkClassInstructor}{Dr. Doina Precup}
\newcommand{\hmwkAuthorName}{Geoffrey Stanley}
\newcommand{\hmwkAuthorNumber}{260645907}
\newcommand{\Pp}{\mathbb{P}}
\newcommand{\Ev}{\mathbb{E}}
\newcommand{\cov}{\text{Cov}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\dd}{\, \mathrm{d}}

% Setup the header and footer
\pagestyle{fancy}                                                       %
\lhead{\hmwkAuthorName}                              %
\chead{}
\rhead{\hmwkClass: \hmwkTitle}                                          %

\lfoot{}
\cfoot{}                                                                %
\rfoot{Page\ \thepage\ of\ \pageref{LastPage}}                          %
\renewcommand\headrulewidth{0.4pt}                                      %
\renewcommand\footrulewidth{0.4pt}                                      %

% This is used to trace down (pin point) problems
% in latexing a document:
%\tracingall
\definecolor{mygreen}{rgb}{0,0.6,0}
\lstset{commentstyle=\color{mygreen}, frame=single,  language=R, showspaces=false, showstringspaces=false}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Make title
\title{\vspace{2in}\textmd{\textbf{\hmwkClass:\ \hmwkTitle}}\\\normalsize\vspace{0.1in}\small{Due\ on\ \hmwkDueDate}\\\vspace{0.1in}\large{\textit{Presented to \hmwkClassInstructor}}\vspace{3in}}
\date{}
\author{\textbf{\hmwkAuthorName}\\
    \textbf{Student ID: \hmwkAuthorNumber}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\maketitle
\section*{Question 1}
\subsection*{A)}
See source code.
\subsection*{B)}
\begin{equation}
  w = \begin{pmatrix}
        0.88485161 & 11.02552359 & -9.35666242
      \end{pmatrix}
\end{equation}
\begin{equation}
  w_{normalized} = \begin{pmatrix}
                    7.07067572 & 84.7476132 & -9.35666242
                    \end{pmatrix}
\end{equation}
\subsection*{C)}
See source code.
\subsection*{D)}
\subsection*{E)}
Fold \#1 results are:\\
Training error is : [ 17633.45681241]\\
Testing error is : [ 4795.16430455]\\
Fold \#2 results are:\\
Training error is : [ 16317.25933808]\\
Testing error is : [ 6362.29874466]\\
Fold \#3 results are:\\
Training error is : [ 15395.564805]\\
Testing error is : [ 7339.05242593]\\
Fold \#4 results are:\\
Training error is : [ 18457.0083633]\\
Testing error is : [ 3879.4511839]\\
Fold \#5 results are:\\
Training error is : [ 20136.42642011]\\
Testing error is : [ 2188.4234707]\\
\subsection*{F)}

\section*{Question 2}
When simplifying the maximum likelihood equation for a regression whose variables
maintain a constant normal distribution we are able to obtain the sum-squared-error
function. However, when the standard deviation a varies from one variable to another
this simplification is no longer achievable.
  \begin{equation}
     L(w) = \prod_{i=1}^{m} \frac{1}{\sqrt{2\pi\sigma_i^2}}e ^ {-\frac{1}{2}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)^2}
  \end{equation}

  \begin{equation}
     \log L(w) = \sum_{i=1}^{m} \log \left(\frac{1}{\sqrt{2\pi\sigma_i^2}}\right)
     - \sum_{i=1}^{m} \frac{1}{2}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)^2
  \end{equation}

  \begin{equation}
     \log L(w) = \sum_{i=1}^{m} \log \left((2\pi)^{-1/2}\sigma_i^{-1}\right)
     - \sum_{i=1}^{m} \frac{1}{2}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)^2
  \end{equation}

  \begin{equation}
     \log L(w) = -\frac{1}{2} \log(2\pi)
     - \sum_{i=1}^{m} \log \sigma_i
     - \sum_{i=1}^{m} \frac{1}{2}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)^2
  \end{equation}

\begin{equation}
     \frac{\partial}{\partial w_j} \log L(w)
     = \frac{\partial}{\partial w_j} \left(-\frac{1}{2} \log(2\pi)
     - \sum_{i=1}^{m} \log \sigma_i
     - \sum_{i=1}^{m} \frac{1}{2}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)^2\right)
\end{equation}

\begin{equation}
     \frac{\partial}{\partial w_j} \log L(w) =
     - \sum_{i=1}^{m} \frac{x_i}{\sigma_i}\left(\frac{y_i-h_w(x_i)}{\sigma_i}\right)
\end{equation}

Simplying further while converting standard deviation to variance. Where $\sigma^2 = \Omega$.

\begin{equation}
     \frac{\partial}{\partial w_j} \log L(w) =
     \sum_{i=1}^{m} \frac{x_iy_i}{\Omega_i}
     - \sum_{i=1}^{m}\frac{h_w(x_i)x_i}{\Omega_i}
\end{equation}

\begin{equation}
     \frac{\partial}{\partial w_j} \log L(w) =
     X^T\Omega^{-1}Y - wX^T\Omega^{-1}X
\end{equation}

Now setting the gradiant to zero.

\begin{equation}
     0 =X^T\Omega^{-1}Y
     - wX^T\Omega^{-1}X
\end{equation}

\begin{equation}
     w^* = (X^T\Omega^{-1} X)^{-1} X^T\Omega^{-1} Y
\end{equation}


\section*{Question 3}
\begin{equation}
  L_H(w, \delta) = \left\{
  \begin{array}{l l}
    (y_i - w^Tx_i)^2 / 2 & \quad \text{if }  | y_i - w^Tx_i | \leq \delta\\
    \delta | y_i - w^Tx_i | - \delta^2 / 2 & \quad \text{otherwise}

  \end{array} \right.\end{equation}
\subsection*{A)}
\begin{equation}
  \frac{\partial}{\partial w} L_H(w, \delta) = \left\{
  \begin{array}{l l}
    \frac{\partial}{\partial w} \left((y_i - w^Tx_i)^2 / 2 \right)& \quad \text{if }  | y_i - w^Tx_i | \leq \delta\\
    \frac{\partial}{\partial w} \left(\delta | y_i - w^Tx_i | - \delta^2 / 2\right) & \quad \text{otherwise}

  \end{array} \right.\end{equation}

\begin{equation}
  \frac{\partial}{\partial w} L_H(w, \delta) = \left\{
  \begin{array}{l l}
    (y_i - w^Tx_i) x_i^T & \quad \text{if }  | y_i - w^Tx_i | \leq \delta\\
    \delta \frac{x_i^T}{| y_i - w^Tx_i |} & \quad \text{otherwise}

  \end{array} \right.\end{equation}
\subsection*{B)}
\subsection*{C)}


\section*{Question 4}

  \begin{equation}
    h_{w1,...wk}(x)
    = \prod_{k=1}^{K}\phi_k(x)
  \end{equation}
Where:
  \begin{equation}
    \phi_k(x) = e^{w_k^Tx}
    = e^{\sum_{i=1}^m w_{ik}x_i}
  \end{equation}
Replacing $\phi_k(x)$

  \begin{equation}
    h_{w1,...wk}(x)
    = \prod_{k=1}^{K}e^{\sum_{i=1}^m w_{ik}x_i}
  \end{equation}

  \begin{equation}
    \log h_{w1,...wk}(x)
    = \sum_{k=1}^{K} \sum_{i=1}^m w_{ik}x_i
  \end{equation}

  \begin{equation}
    \frac{\partial}{\partial w} \log h_{w1,...wk}(x)
    = \frac{\partial}{\partial w} \left(\sum_{k=1}^{K} \sum_{i=1}^m w_{ik}x_i\right)
  \end{equation}

\end{document}
